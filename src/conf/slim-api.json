{
    "openapi": "3.0.0",
    "info": {
        "description": "This API provides access to select Domino functions available in Domino's non-public API.\nTo authenticate your requests, include your API Key (which you can find on your account page) with the header X-Domino-Api-Key.\n",
        "title": "Domino Data Lab API v4",
        "version": "4.0.0"
      },
    "paths": {

      "/admin/supportbundle/{executionId}": {
        "get": {
          "operationId": "getExecutionSupportBundle",
          "parameters": [
            {
              "in": "path",
              "name": "executionId",
              "required": true,
              "schema": {
                "pattern": "^[0-9a-f]{24}$",
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "content": {
                "application/json": {
                  "schema": {
                    "format": "binary",
                    "type": "string"
                  }
                }
              },
              "description": "success"
            },
            "400": {
              "$ref": "#/components/responses/BadRequest"
            },
            "401": {
              "$ref": "#/components/responses/Unauthorized"
            },
            "403": {
              "$ref": "#/components/responses/Forbidden"
            },
            "500": {
              "$ref": "#/components/responses/InternalError"
            }
          },
          "summary": "Gets a zipfile containing useful information about an executionId, FIXME should this path be /executions/executionId/supportbundle",
          "tags": [
            "Admin"
          ]
        }
      },
      "/datasetrw/snapshot/{snapshotId}/download-local/{taskKey}": {
        "get": {
          "operationId": "downloadArchiveToLocal",
          "parameters": [
            {
              "description": "Id of the dataset snapshot where files are downloaded from",
              "in": "path",
              "name": "snapshotId",
              "required": true,
              "schema": {
                "pattern": "^[0-9a-f]{24}$",
                "type": "string"
              }
            },
            {
              "description": "Key of the download task to be polled",
              "in": "path",
              "name": "taskKey",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "content": {
                "application/json": {
                  "schema": {
                    "format": "binary",
                    "type": "string"
                  }
                }
              },
              "description": "success"
            },
            "400": {
              "$ref": "#/components/responses/BadRequest"
            },
            "401": {
              "$ref": "#/components/responses/Unauthorized"
            },
            "403": {
              "$ref": "#/components/responses/Forbidden"
            },
            "500": {
              "$ref": "#/components/responses/InternalError"
            }
          },
          "summary": "Download archive file from Domino to local",
          "tags": [
            "DatasetRw"
          ]
        }
      },      
      "/datasetrw/snapshot/{snapshotId}/file/raw": {
        "get": {
          "operationId": "getFileRaw",
          "parameters": [
            {
              "description": "snapshot ID",
              "in": "path",
              "name": "snapshotId",
              "required": true,
              "schema": {
                "pattern": "^[0-9a-f]{24}$",
                "type": "string"
              }
            },
            {
              "description": "path of file to get raw content for",
              "in": "query",
              "name": "path",
              "required": true,
              "schema": {
                "type": "string"
              }
            },
            {
              "description": "whether endpoint is used for download",
              "in": "query",
              "name": "download",
              "required": false,
              "schema": {
                "nullable": true,
                "type": "boolean"
              }
            }
          ],
          "responses": {
            "200": {
              "content": {
                "application/octet-stream": {
                  "schema": {
                    "format": "binary",
                    "type": "string"
                  }
                }
              },
              "description": "success"
            },
            "400": {
              "$ref": "#/components/responses/BadRequest"
            },
            "401": {
              "$ref": "#/components/responses/Unauthorized"
            },
            "403": {
              "$ref": "#/components/responses/Forbidden"
            },
            "500": {
              "$ref": "#/components/responses/InternalError"
            }
          },
          "summary": "Get snapshot file raw content at specified path",
          "tags": [
            "DatasetRw"
          ]
        }
      },      
      "/datasource/audit/download/runs": {
        "get": {
          "operationId": "downloadDataSourceAuditDataInRuns",
          "parameters": [
            {
              "description": "the ids of the runs to query datasources from",
              "in": "query",
              "name": "runIds",
              "required": true,
              "schema": {
                "items": {
                  "pattern": "^[0-9a-f]{24}$",
                  "type": "string"
                },
                "type": "array"
              }
            },
            {
              "description": "if true output will be json file, else txt",
              "in": "query",
              "name": "jsonFile",
              "required": false,
              "schema": {
                "nullable": true,
                "type": "boolean"
              }
            }
          ],
          "responses": {
            "200": {
              "content": {
                "application/jsonl": {
                  "schema": {
                    "format": "binary",
                    "type": "string"
                  }
                }
              },
              "description": "success"
            },
            "400": {
              "$ref": "#/components/responses/BadRequest"
            },
            "401": {
              "$ref": "#/components/responses/Unauthorized"
            },
            "403": {
              "$ref": "#/components/responses/Forbidden"
            },
            "500": {
              "$ref": "#/components/responses/InternalError"
            }
          },
          "summary": "Download DataSource Audit Data accessed in Domino runs",
          "tags": [
            "DataSource"
          ]
        }
      },
      "/datasource/audit/download": {
        "get": {
          "operationId": "downloadDataSourceAuditData",
          "parameters": [
            {
              "description": "if true output will be json file, else txt",
              "in": "query",
              "name": "jsonFile",
              "required": false,
              "schema": {
                "nullable": true,
                "type": "boolean"
              }
            }
          ],
          "responses": {
            "200": {
              "content": {
                "application/octet-stream": {
                  "schema": {
                    "format": "binary",
                    "type": "string"
                  }
                }
              },
              "description": "success"
            },
            "400": {
              "$ref": "#/components/responses/BadRequest"
            },
            "401": {
              "$ref": "#/components/responses/Unauthorized"
            },
            "403": {
              "$ref": "#/components/responses/Forbidden"
            },
            "500": {
              "$ref": "#/components/responses/InternalError"
            }
          },
          "summary": "Download DataSource Audit Data for past 6 months",
          "tags": [
            "DataSource"
          ]
        }
      },      
      "/modelManager/{modelVersionId}/logs": {
        "get": {
          "operationId": "downloadLogs",
          "parameters": [
            {
              "in": "path",
              "name": "modelVersionId",
              "required": true,
              "schema": {
                "pattern": "^[0-9a-f]{24}$",
                "type": "string"
              }
            },
            {
              "in": "query",
              "name": "startMillis",
              "required": true,
              "schema": {
                "format": "int64",
                "type": "integer"
              }
            },
            {
              "in": "query",
              "name": "endMillis",
              "required": true,
              "schema": {
                "format": "int64",
                "type": "integer"
              }
            }
          ],
          "responses": {
            "200": {
              "content": {
                "application/x-ndjson": {
                  "schema": {
                    "format": "binary",
                    "type": "string"
                  }
                }
              },
              "description": "success"
            },
            "401": {
              "$ref": "#/components/responses/Unauthorized"
            },
            "500": {
              "$ref": "#/components/responses/InternalError"
            }
          },
          "summary": "download logs for a model for a given time range",
          "tags": [
            "ModelManager"
          ]
        }
      },      
      "/projects/{projectId}/useableEnvironments": {
        "get": {
          "operationId": "getUseableEnvironments",
          "parameters": [
            {
              "description": "Id of the project",
              "in": "path",
              "name": "projectId",
              "required": true,
              "schema": {
                "pattern": "^[0-9a-f]{24}$",
                "type": "string"
              }
            }
          ],
          "responses": {
            "200": {
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/domino.projects.api.UseableProjectEnvironmentsDTO"
                  }
                }
              },
              "description": "success"
            },
            "403": {
              "$ref": "#/components/responses/Forbidden"
            },
            "404": {
              "$ref": "#/components/responses/NotFound"
            },
            "500": {
              "$ref": "#/components/responses/InternalError"
            }
          },
          "summary": "gets the list of Environments that this Project can use",
          "tags": [
            "Projects"
          ]
        }
      }      
    },
    "components": {
      "schemas": {
        "domino.projects.api.UseableProjectEnvironmentsDTO": {
          "type": "object",
          "properties": {
            "environments": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Environment"
              }
            }
          }
        },
        "Environment": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "description": {
              "type": "string"
            }
          }
        },
        "Error": {
          "type": "object",
          "properties": {
            "message": {
              "type": "string"
            }
          }
        }
      },
      "responses": {
        "Forbidden": {
          "description": "Forbidden"
        },
        "NotFound": {
          "description": "Not Found"
        },
        "InternalError": {
          "description": "Internal Server Error"
        },
        "BadRequest": {
          "description": "Bad Request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        },
        "Unauthorized": {
          "description": "Unauthorized",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "securitySchemes": {
        "BearerAuthentication": {
          "in": "header",
          "name": "Authorization",
          "type": "apiKey"
        },
        "DominoApiKey": {
          "in": "header",
          "name": "X-Domino-Api-Key",
          "type": "apiKey"
        }
      }
    },
    "security": [
        {
          "BearerAuthentication": []
        },
        {
          "DominoApiKey": []
        }
      ],
    "servers": [
        {
          "url": "/v4"
        }
      ],
    "tags": []    
  }